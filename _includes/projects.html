<section class="projects-carousel-section">
  <h2 class="section-title">Projects</h2>
  <div class="carousel" id="project-carousel">
    {% for project in site.data.projects %}
    <div class="carousel-item" id="{{ project.id }}">
      <div class="carousel-media">
        {% for media in project.media %}
          {% if media.type == "image" %}
            <img src="{{ '/assets/images/' | append: media.src | relative_url }}" alt="{{ project.title }}">
          {% elsif media.type == "video" %}
            <video controls playsinline preload="metadata">
              <source src="{{ '/assets/videos/' | append: media.src | relative_url }}" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          {% endif %}
        {% endfor %}
      </div>
      <div class="carousel-text">
        <h3 class="project-title">{{ project.title }}</h3>
        <p class="project-author">{{ project.author }}</p>
        <p class="project-description">{{ project.description }}</p>
        {% if project.paper_url %}
        <a href="{{ project.paper_url }}" target="_blank" class="project-link">Paper</a>
        {% endif %}
        {% if project.homepage_url %}
        <a href="{{ project.homepage_url }}" target="_blank" class="project-link">Homepage</a>
        {% endif %}
      </div>
    </div>
    {% endfor %}

    <!-- 控制按钮 -->
    <button class="carousel-btn prev" onclick="moveSlide(-1)">&#10094;</button>
    <button class="carousel-btn next" onclick="moveSlide(1)">&#10095;</button>
  </div>
</section>
